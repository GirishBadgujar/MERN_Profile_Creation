{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { getUsername } from '../helper/helper';\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\nexport default function useFetch(query) {\n  _s();\n  const [data, setData] = useState({\n    isLoading: false,\n    apiData: undefined,\n    status: null,\n    serverError: null\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setData(prevData => ({\n          ...prevData,\n          isLoading: true,\n          serverError: null // Clear any previous error\n        }));\n\n        const {\n          username\n        } = !query ? await getUsername() : '';\n        const {\n          data,\n          status\n        } = !query ? await axios.get(`/api/user/${username}`) : await axios.get(`/api/${query}`);\n        if (status === 201) {\n          setData(prevData => ({\n            ...prevData,\n            apiData: data,\n            status: status\n          }));\n        }\n      } catch (error) {\n        setData(prevData => ({\n          ...prevData,\n          serverError: error\n        }));\n      } finally {\n        setData(prevData => ({\n          ...prevData,\n          isLoading: false\n        }));\n      }\n    };\n    fetchData();\n  }, [query]);\n  return [data, setData];\n}\n_s(useFetch, \"R1NGWUyWZmIAgTWVAcxdeGa3+FE=\");","map":{"version":3,"names":["axios","useEffect","useState","getUsername","defaults","baseURL","process","env","REACT_APP_SERVER_DOMAIN","useFetch","query","_s","data","setData","isLoading","apiData","undefined","status","serverError","fetchData","prevData","username","get","error"],"sources":["D:/Login_App/login_app/client/src/hooks/fetch.hook.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getUsername } from '../helper/helper';\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\r\n\r\nexport default function useFetch(query) {\r\n  const [data, setData] = useState({\r\n    isLoading: false,\r\n    apiData: undefined,\r\n    status: null,\r\n    serverError: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setData((prevData) => ({\r\n          ...prevData,\r\n          isLoading: true,\r\n          serverError: null // Clear any previous error\r\n        }));\r\n\r\n        const { username } = !query ? await getUsername() : '';\r\n\r\n        const { data, status } = !query\r\n          ? await axios.get(`/api/user/${username}`)\r\n          : await axios.get(`/api/${query}`);\r\n\r\n        if (status === 201) {\r\n          setData((prevData) => ({\r\n            ...prevData,\r\n            apiData: data,\r\n            status: status\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        setData((prevData) => ({\r\n          ...prevData,\r\n          serverError: error\r\n        }));\r\n      } finally {\r\n        setData((prevData) => ({\r\n          ...prevData,\r\n          isLoading: false\r\n        }));\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [query]);\r\n\r\n  return [data, setData];\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAE9CH,KAAK,CAACI,QAAQ,CAACC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB;AAE5D,eAAe,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACtC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC;IAC/BY,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAEC,SAAS;IAClBC,MAAM,EAAE,IAAI;IACZC,WAAW,EAAE;EACf,CAAC,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACd,MAAMkB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFN,OAAO,CAAEO,QAAQ,KAAM;UACrB,GAAGA,QAAQ;UACXN,SAAS,EAAE,IAAI;UACfI,WAAW,EAAE,IAAI,CAAC;QACpB,CAAC,CAAC,CAAC;;QAEH,MAAM;UAAEG;QAAS,CAAC,GAAG,CAACX,KAAK,GAAG,MAAMP,WAAW,CAAC,CAAC,GAAG,EAAE;QAEtD,MAAM;UAAES,IAAI;UAAEK;QAAO,CAAC,GAAG,CAACP,KAAK,GAC3B,MAAMV,KAAK,CAACsB,GAAG,CAAE,aAAYD,QAAS,EAAC,CAAC,GACxC,MAAMrB,KAAK,CAACsB,GAAG,CAAE,QAAOZ,KAAM,EAAC,CAAC;QAEpC,IAAIO,MAAM,KAAK,GAAG,EAAE;UAClBJ,OAAO,CAAEO,QAAQ,KAAM;YACrB,GAAGA,QAAQ;YACXL,OAAO,EAAEH,IAAI;YACbK,MAAM,EAAEA;UACV,CAAC,CAAC,CAAC;QACL;MACF,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdV,OAAO,CAAEO,QAAQ,KAAM;UACrB,GAAGA,QAAQ;UACXF,WAAW,EAAEK;QACf,CAAC,CAAC,CAAC;MACL,CAAC,SAAS;QACRV,OAAO,CAAEO,QAAQ,KAAM;UACrB,GAAGA,QAAQ;UACXN,SAAS,EAAE;QACb,CAAC,CAAC,CAAC;MACL;IACF,CAAC;IAEDK,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACT,KAAK,CAAC,CAAC;EAEX,OAAO,CAACE,IAAI,EAAEC,OAAO,CAAC;AACxB;AAACF,EAAA,CA/CuBF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}